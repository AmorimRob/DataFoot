<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:df="http://java.sun.com/jsf/composite/components">

<h:head>
	<style type="text/css">
.slot {
	background: #FF9900;
	opacity: 0.7;
	width: 60px;
	height: 80px;
	display: block;
}


.ui-panelgrid td {
border-width: 0px;
border-style: solid;
border-color: inherit;
padding: 4px 10px;
}

</style>

<script type="text/javascript">
	function handleDrop(event, ui) {
		var draggable = ui.draggable, helper = ui.helper, position = ui.position, offset = ui.offset;
	}
</script>

	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
	<title>Campo</title>
</h:head>
<h:body>
<h:form>
	<df:cronometro/>
</h:form>
<h:form id="FormCampo" prependId="false">
	<h:panelGrid columns="3">
		<h:outputText value="Selecione o esquema: " />
		
		<p:selectOneMenu value="#{slotCtrl.esquema.guidesquema}" style="position: relative">
			<f:selectItem itemLabel="Selecione um esquema" itemValue="0" />
			<f:selectItems value="#{slotCtrl.comboEsquema}" />
			<p:ajax update="panel" event="change" listener="#{slotCtrl.selecionarEsquema}"/>
			<p:ajax event="change" listener="#{scoutCtrll.inserirScout}"/>
			<p:ajax update="datagrid" event="change" listener="#{scoutCtrll.listarAtletasEscalados}"/>														
		</p:selectOneMenu>
		
		<p:commandButton icon="ui-icon-search" action="#{slotCtrl.buscarScout}" update="panel"/>
		
	</h:panelGrid>
	<br/>
	
	<p:panel id="pnl" header="Time mandante" toggleable="true" closable="true" toggleSpeed="500" closeSpeed="500" >
		<p:dataGrid id="datagrid" value="#{scoutCtrll.listaEscalcaoMandante}" var="scout">
			<p:graphicImage id="fotoAtleta" value="image?tipo=atleta&amp;id=#{scout.guidAtleta}" width="55" height="70" />
			<p:draggable for="fotoAtleta" revert="true" />
		</p:dataGrid>
	</p:panel>

	<p:panelGrid columns="1" style="margin-left:10px" id="panel">
		<p:panel style="width: 420px; height:650px; background: url(#{resource['imagens:campo_gramado.jpg']}) no-repeat;"> 	
			<h:panelGroup style="width: 420px;">			
				
				<h:panelGrid columns="3" style="width: 420px;">		
					<p:outputPanel style="visibility: #{slotCtrl.esquema.a1};">
						<df:slot_campo id="a1" obj="#{slotCtrl.slotCampo.a1}"></df:slot_campo>
						<p:droppable for="a1" onDrop="handleDrop" datasource="datagrid">
							<p:ajax listener="#{slotCtrl.onDrop}" update="a1"/>	
						</p:droppable>
					</p:outputPanel>
					
					<p:outputPanel style="visibility: #{slotCtrl.esquema.b1};">
						<df:slot_campo id="b1"  obj="#{slotCtrl.slotCampo.b1}"></df:slot_campo>
						<p:droppable for="b1" onDrop="handleDrop" datasource="datagrid">
							<p:ajax listener="#{slotCtrl.onDrop}" update="b1"/>		
						</p:droppable>
					</p:outputPanel>
					
					<p:outputPanel style="visibility: #{slotCtrl.esquema.c1};">
						<df:slot_campo id="c1"></df:slot_campo>
						<p:droppable for="c1" onDrop="handleDrop" datasource="datagrid">
							<p:ajax listener="#{slotCtrl.onDrop}" update="c1"/>		
						</p:droppable>
					</p:outputPanel>
				</h:panelGrid>

				<h:panelGrid columns="3" style="width: 420px;">
					<p:outputPanel style="visibility: #{slotCtrl.esquema.a2};">
						<df:slot_campo id="a2"/>
						<p:droppable for="a2" onDrop="handleDrop" datasource="datagrid">
							<p:ajax listener="#{slotCtrl.onDrop}" update="a2"/>		
						</p:droppable>
					</p:outputPanel>

					<p:outputPanel style="visibility: #{slotCtrl.esquema.b2};">
						<df:slot_campo id="b2"/>
						<p:droppable for="b2" onDrop="handleDrop" datasource="datagrid">
							<p:ajax listener="#{slotCtrl.onDrop}" update="b2"/>		
						</p:droppable>
					</p:outputPanel>

					<p:outputPanel style="visibility: #{slotCtrl.esquema.c2};">
						<df:slot_campo id="c2"/>
						<p:droppable for="c2" onDrop="handleDrop" datasource="datagrid">
							<p:ajax listener="#{slotCtrl.onDrop}" update="c2"/>		
						</p:droppable>
					</p:outputPanel>
				</h:panelGrid>

				<h:panelGrid columns="4" style="width: 220px; margin-left:20px;">
					<p:outputPanel style="visibility: #{slotCtrl.esquema.a3};">
						<df:slot_campo id="a3"/>
						<p:droppable for="a3" onDrop="handleDrop" datasource="datagrid">
							<p:ajax listener="#{slotCtrl.onDrop}" update="a3"/>		
						</p:droppable>
					</p:outputPanel>

					<p:outputPanel style="visibility: #{slotCtrl.esquema.b3};">
						<df:slot_campo id="b3"/>
						<p:droppable for="b3" onDrop="handleDrop" datasource="datagrid">
							<p:ajax listener="#{slotCtrl.onDrop}" update="b3"/>		
						</p:droppable>
					</p:outputPanel>

					<p:outputPanel style="visibility: #{slotCtrl.esquema.c3};">
						<df:slot_campo id="c3"/>
						<p:droppable for="c3" onDrop="handleDrop" datasource="datagrid">
							<p:ajax listener="#{slotCtrl.onDrop}" update="c3"/>		
						</p:droppable>
					</p:outputPanel>

					<p:outputPanel style="visibility: #{slotCtrl.esquema.d3};">
						<df:slot_campo id="d3"/>
						<p:droppable for="d3" onDrop="handleDrop" datasource="datagrid">
							<p:ajax listener="#{slotCtrl.onDrop}" update="d3"/>		
						</p:droppable>
					</p:outputPanel>
				</h:panelGrid>

				<h:panelGrid columns="3" style="width: 220px; margin-left:60px;">
					<p:outputPanel style="visibility: #{slotCtrl.esquema.a4};">
						<df:slot_campo id="a4"/>
						<p:droppable for="a4" onDrop="handleDrop" datasource="datagrid">
							<p:ajax listener="#{slotCtrl.onDrop}" update="a4"/>		
						</p:droppable>
					</p:outputPanel>

					<p:outputPanel style="visibility: #{slotCtrl.esquema.b4};">
						<df:slot_campo id="b4"/>
						<p:droppable for="b4" onDrop="handleDrop" datasource="datagrid">
							<p:ajax listener="#{slotCtrl.onDrop}" update="b4"/>		
						</p:droppable>
					</p:outputPanel>

					<p:outputPanel style="visibility: #{slotCtrl.esquema.c4};">
						<df:slot_campo id="c4"/>
						<p:droppable for="c4" onDrop="handleDrop" datasource="datagrid">
							<p:ajax listener="#{slotCtrl.onDrop}" update="c4"/>		
						</p:droppable>
					</p:outputPanel>
				</h:panelGrid>

				<h:panelGrid columns="3" style="width: 420px;">
					<p:outputPanel style="visibility: #{slotCtrl.esquema.a5};">
						<df:slot_campo id="a5"/>
						<p:droppable for="a5" onDrop="handleDrop" datasource="datagrid">
							<p:ajax listener="#{slotCtrl.onDrop}" update="a5"/>		
						</p:droppable>
					</p:outputPanel>

					<p:outputPanel style="visibility: #{slotCtrl.esquema.b5};">
						<df:slot_campo id="b5"/>
						<p:droppable for="b5" onDrop="handleDrop" datasource="datagrid">
							<p:ajax listener="#{slotCtrl.onDrop}" update="b5"/>		
						</p:droppable>
					</p:outputPanel>

					<p:outputPanel style="visibility: #{slotCtrl.esquema.c5};">
						<df:slot_campo id="c5"/>
						<p:droppable for="c5" onDrop="handleDrop" datasource="datagrid">
							<p:ajax listener="#{slotCtrl.onDrop}" update="c5"/>		
						</p:droppable>
					</p:outputPanel>		
				</h:panelGrid>

				<h:panelGrid columns="3" style="width: 220px; margin-left:60px;">
					<p:outputPanel style="visibility: #{slotCtrl.esquema.a6};">
						<df:slot_campo id="a6"/>
						<p:droppable for="a6" onDrop="handleDrop" datasource="datagrid">
							<p:ajax listener="#{slotCtrl.onDrop}" update="a6"/>		
						</p:droppable>
					</p:outputPanel>

					<p:outputPanel style="visibility: #{slotCtrl.esquema.b6};">
						<df:slot_campo id="b6"/>
						<p:droppable for="b6" onDrop="handleDrop" datasource="datagrid">
							<p:ajax listener="#{slotCtrl.onDrop}" update="b6"/>		
						</p:droppable>
					</p:outputPanel>

					<p:outputPanel style="visibility: #{slotCtrl.esquema.c6};">
						<df:slot_campo id="c6"/>
						<p:droppable for="c6" onDrop="handleDrop" datasource="datagrid">
							<p:ajax listener="#{slotCtrl.onDrop}" update="c6"/>		
						</p:droppable>
					</p:outputPanel>
				</h:panelGrid>

				<h:panelGrid columns="3" style="width: 420px;">
					<p:outputPanel id="a7" styleClass="slot" style="visibility: hidden;"/>
					
					<p:outputPanel>
						<df:slot_campo id="b7"/>
						<p:droppable for="b7" onDrop="handleDrop" datasource="datagrid">
							<p:ajax listener="#{slotCtrl.onDrop}" update="b7"/>		
						</p:droppable>
					</p:outputPanel>

					<p:outputPanel id="c7" styleClass="slot" style="visibility: hidden"/>
				</h:panelGrid>
			</h:panelGroup>
		</p:panel>
	</p:panelGrid>

</h:form>
</h:body>
</html>